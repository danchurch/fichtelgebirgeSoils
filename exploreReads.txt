## let's take a look at Sulari and Arne's reads

### set up ssh key for this. ###
git remote set-url origin git@github.com:danchurch/fichtelgebirgeSoils.git

###########################################

## now, much of this analysis will likely have to be done in R,
## on a computer with sufficient memory.

## the goal would be to contain this analysis to R
## so we'll use dada2 in R

## for the moment, let's use the lab computer,

## let's look in our files for primers, etc:

conda activate 

readDir="/media/vol1/daniel/sulariArne/illuminaReads/goodReads"

## let's do this old-school:

cd $readDir

gunzip -k *

cat *fq > allSulariArneReads.fq

mkdir /media/vol1/daniel/sulariArne/illuminaReads/fastqcOut

## set variables
file="/media/vol1/daniel/sulariArne/illuminaReads/goodReads/allSulariArneReads.fq"
outdir="/media/vol1/daniel/sulariArne/illuminaReads/fastqcOut"
fastqc -t 10 -o  $outdir $file  &


path2put=/home/daniel/Documents/projects/fichtelgebirge_project/sulariArneSoils/readReport/
path2get="/media/vol1/daniel/sulariArne/illuminaReads/fastqcOut/"
scp -r -i ~/.ssh/id_ed25519 test@132.180.112.115:$path2get $path2put

## quality looks great. 
## tomorrow split by direction and check again.
## look for primers

######################

## with a specialized environment for dada2.
## I remember R with conda package management being kind of 
## a pain

conda activate 

conda create -n dada2 -c r r-base

## to old
conda remove -n dada2 --all

## can we force a newer version?

conda create -n dada2 -c r r-base>=4.3.0

conda update -n base -c defaults conda

conda activate dada2

## theoretically, we can install this way:
conda install -c bioconda bioconductor-dada2
## fails
## try internal installations:

## in R

install.packages("BiocManager")
BiocManager::install("dada2")

## that takes forever.


## following these tutorials from the dada2 site:

http://benjjneb.github.io/dada2/bigdata_paired.html
http://benjjneb.github.io/dada2/bigdata.html
http://benjjneb.github.io/dada2/tutorial.html

library(dada2); packageVersion("dada2")


## will dada2 take our data as is?

path <- "/home/daniel/Documents/projects/fichtelgebirge_project/sulariArneSoils/reads"

:

